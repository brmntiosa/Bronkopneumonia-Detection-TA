<!doctype html>
<html class="no-js" lang="zxx">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Detection Bronkopneumonia</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- <link rel="manifest" href="site.webmanifest"> -->
    <link rel="shortcut icon" type="image/x-icon" href="img/favicon.png">
    <!-- Place favicon.ico in the root directory -->

    <!-- CSS here -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/owl.carousel.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/magnific-popup.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/font-awesome.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/themify-icons.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/nice-select.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/flaticon.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/gijgo.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/animate.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/slicknav.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <!-- <link rel="stylesheet" href="css/responsive.css"> -->
</head>

<body>
    <!--[if lte IE 9]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
        <![endif]-->

    <!-- header-start -->
    <header>
        <div class="header-area ">
            <div class="header-top_area">
                <div class="container">
                    <div class="row">
                        <div class="col-xl-6 col-md-6 ">
                            <div class="social_media_links">
                                <a href="#">
                                    <i class="fa fa-linkedin"></i>
                                </a>
                                <a href="#">
                                    <i class="fa fa-facebook"></i>
                                </a>
                                <a href="#">
                                    <i class="fa fa-google-plus"></i>
                                </a>
                            </div>
                        </div>
                        <div class="col-xl-6 col-md-6">
                            <div class="short_contact_list">
                                <ul>
                                    <li><a href="#"> <i class="fa fa-envelope"></i> bramantio.syahrul@mhs.itenas.ac.id</a></li>
                                    <li><a href="#"> <i class="fa fa-phone"></i> +62 878 7288 7925</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="sticky-header" class="main-header-area">
                <div class="container">
                    <div class="row align-items-center">
                        <div class="col-xl-3 col-lg-2">
                            <div class="logo">
                              <a class="navbar-brand text-dark fw-bold fs-4" href="/" style="text-decoration: none;">
                                ü©∫ Detection Bronkopneumonia
                              </a>
                            </div>
                          </div>
                        <div class="col-xl-6 col-lg-7">
                            <div class="main-menu  d-none d-lg-block">
                                <nav>
                                    <ul id="navigation">
                                        <li><a class="active" href="/">home</a></li>
                                        
                                        <li><a href="single-blog.html">blog</i></a>
                                           
                                        </li>
                                        <li><a href="about.html">about</a></li>
                                    
                                        <li><a href="contact.html">Contact</a></li>
                                    </ul>
                                </nav>
                            </div>
                        </div>
                        <div class="col-xl-3 col-lg-3 d-none d-lg-block">
                            <div class="Appointment">
                                <div class="book_btn d-none d-lg-block">
                                    <a class="popup-with-form" href="health.html">cek kesehatan anda </a>
                                </div>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="mobile_menu d-block d-lg-none"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <!-- header-end -->

    <div class="container py-5">
        <h2 class="text-center mb-4">Deteksi Bronkopneumonia dari Citra X-Ray Paru-paru</h2>
      
        <!-- Toggle input mode -->
        <div class="text-center mb-4">
          <button class="btn btn-outline-primary me-2" onclick="toggleInput('upload')">üì§ Upload Gambar</button>
          <button class="btn btn-outline-secondary" onclick="toggleInput('camera')">üì∑ Gunakan Kamera</button>
        </div>
      
        <div class="card shadow p-4 mb-5">
          <div class="row">
      
            <!-- KIRI: Form Upload atau Kamera -->
            <div class="col-lg-6 border-end">
              <!-- Upload Form -->
              <form id="upload-form" method="POST" enctype="multipart/form-data">
                <div class="mb-3">
                  <label for="image" class="form-label fw-semibold">Unggah Gambar X-Ray Anda</label>
                  <input type="file" name="image" class="form-control">
                </div>
                <button type="submit" class="btn btn-primary w-100 mt-2">üöÄ Deteksi Sekarang</button>
              </form>
      
              <!-- Kamera Form -->
              <div id="camera-section" style="display: none;">
                <label class="form-label fw-semibold">Ambil Gambar dari Kamera</label>
                <video id="video" width="100%" autoplay playsinline class="rounded border"></video>
                <button type="button" class="btn btn-dark w-100 mt-2" id="snap">üì∏ Ambil Gambar</button>
                <canvas id="canvas" style="display: none;"></canvas>
              </div>
      
              {% if prediction %}
              <div class="mt-4 text-center">
                <p class="fw-semibold">Citra yang Anda unggah:</p>
                <img src="{{ image_path }}" alt="Preview" class="img-fluid rounded border" style="max-height: 250px;">
              </div>
              {% endif %}
            </div>
      
            <!-- KANAN: Hasil -->
            <div class="col-lg-6 ps-lg-4 align-self-start">
              {% if prediction %}
                <h5 class="fw-bold mb-3 mt-1">üîé Hasil Deteksi:</h5>
                <p class="fs-1 fw-bold 
                  {% if prediction == 'Normal' %}
                    text-success
                  {% else %}
                    text-danger
                  {% endif %}
                ">
                  {{ prediction }}
                </p>
      
                <div class="alert alert-info mt-3" role="alert">
                  Hasil ini merupakan prediksi otomatis yang kami buat menggunakan Machine Learning.
                  Untuk diagnosis medis resmi, silakan konsultasikan ke tenaga medis lebih lanjut.
                </div>
              {% else %}
                <h5 class="fw-bold mb-3 mt-1">üîç Informasi:</h5>
                <p class="text-muted">Silakan unggah citra X-Ray dada untuk melakukan deteksi otomatis bronkopneumonia.</p>
              {% endif %}
            </div>
      
          </div>
        </div>
      </div>
      
      <!-- JavaScript Kamera -->
      <script>
        function toggleInput(method) {
          const upload = document.getElementById('upload-form');
          const camera = document.getElementById('camera-section');
          if (method === 'camera') {
            upload.style.display = 'none';
            camera.style.display = 'block';
          } else {
            upload.style.display = 'block';
            camera.style.display = 'none';
          }
        }
      
        // Aktifkan kamera
        const video = document.getElementById('video');
        const canvas = document.getElementById('canvas');
        const snap = document.getElementById('snap');
      
        if (navigator.mediaDevices && video) {
          navigator.mediaDevices.getUserMedia({ video: true })
            .then(function (stream) {
              video.srcObject = stream;
              video.play();
            });
        }
      
        snap?.addEventListener("click", function () {
          canvas.width = video.videoWidth;
          canvas.height = video.videoHeight;
          canvas.getContext('2d').drawImage(video, 0, 0);
          canvas.toBlob(function (blob) {
            const file = new File([blob], "capture.jpg", { type: "image/jpeg" });
            const dt = new DataTransfer();
            dt.items.add(file);
            document.querySelector('input[name="image"]').files = dt.files;
      
            // Secara otomatis trigger form
            document.getElementById('upload-form').submit();
          }, 'image/jpeg');
        });
      </script>
      
      

      




<!-- footer start -->
    <footer class="footer">
            <div class="footer_top">
                <div class="container">
                    <div class="row">
                        <div class="col-xl-4 col-md-6 col-lg-4">
                            <div class="footer_widget">
                                <div class="footer_logo">
                                    <a href="/" style="color: white; font-weight: bold; font-size: 20px; text-decoration: none;">
                                        ü©∫ Detection Bronkopneumonia
                                    </a>
                                </div>
                                <p>
                                    Aplikasi ini dirancang untuk membantu mendeteksi kemungkinan bronkopneumonia dari citra X-ray secara cepat dan akurat.
                                </p>
                                <div class="socail_links">
                                    <ul>
                                        <li>
                                            <a href="#">
                                                <i class="ti-facebook"></i>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#">
                                                <i class="ti-twitter-alt"></i>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#">
                                                <i class="fa fa-instagram"></i>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
    
                            </div>
                        </div>
                        <div class="col-xl-2 offset-xl-1 col-md-6 col-lg-3">
                           
                        </div>
                        <div class="col-xl-2 col-md-6 col-lg-2">
                            <div class="footer_widget">
                                <h3 class="footer_title">
                                        Useful Links
                                </h3>
                                <ul>
                                    <li><a href="#">About</a></li>
                                    <li><a href="#">Blog</a></li>
                                    <li><a href="#">About</a></li>
                                    <li><a href="#"> Contact</a></li>
                                   
                                </ul>
                            </div>
                        </div>
                        <div class="col-xl-3 col-md-6 col-lg-3">
                            <div class="footer_widget">
                                <h3 class="footer_title">
                                        Address
                                </h3>
                                <p>
                                    Jl. Khp Hasan Mustopa No.23, Neglasari, Kec. Cibeunying Kaler, Kota Bandung, Jawa Barat 40124 <br>
                                    +62 878 7288 7925 <br>
                                    bramantio.syahrul@mhs.itenas.ac.id
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="copy-right_text">
                <div class="container">
                    <div class="footer_border"></div>
                    <div class="row">
                        <div class="col-xl-12">
                            <p class="copy_right text-center">
                                <p style="color: white; margin-top: 20px;">
                                    &copy; <script>document.write(new Date().getFullYear());</script> Aplikasi Deteksi Bronkopneumonia |</strong> 
                                  </p>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
<!-- footer end  -->
    <!-- link that opens popup -->

    <!-- form itself end-->
    <form id="test-form" class="white-popup-block mfp-hide">
        <div class="popup_box ">
            <div class="popup_inner">
                <h3>Make an Appointment</h3>
                <form action="#">
                    <div class="row">
                        <div class="col-xl-6">
                            <input id="datepicker" placeholder="Pick date">
                        </div>
                        <div class="col-xl-6">
                            <input id="datepicker2" placeholder="Suitable time">
                        </div>
                        <div class="col-xl-6">
                            <select class="form-select wide" id="default-select" class="">
                                <option data-display="Select Department">Department</option>
                                <option value="1">Eye Care</option>
                                <option value="2">Physical Therapy</option>
                                <option value="3">Dental Care</option>
                            </select>
                        </div>
                        <div class="col-xl-6">
                            <select class="form-select wide" id="default-select" class="">
                                <option data-display="Doctors">Doctors</option>
                                <option value="1">Mirazul Alom</option>
                                <option value="2">Monzul Alom</option>
                                <option value="3">Azizul Isalm</option>
                            </select>
                        </div>
                        <div class="col-xl-6">
                            <input type="text"  placeholder="Name">
                        </div>
                        <div class="col-xl-6">
                            <input type="text"  placeholder="Phone no.">
                        </div>
                        <div class="col-xl-12">
                            <input type="email"  placeholder="Email">
                        </div>
                        <div class="col-xl-12">
                            <button type="submit" class="boxed-btn3">Confirm</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </form>
    <!-- form itself end -->

    <script src="{{ url_for('static', filename='js/vendor/modernizr-3.5.0.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/vendor/jquery-1.12.4.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/popper.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/owl.carousel.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/isotope.pkgd.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/ajax-form.js') }}"></script>
<script src="{{ url_for('static', filename='js/waypoints.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/jquery.counterup.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/imagesloaded.pkgd.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/scrollIt.js') }}"></script>
<script src="{{ url_for('static', filename='js/jquery.scrollUp.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/wow.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/nice-select.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/jquery.slicknav.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/jquery.magnific-popup.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/plugins.js') }}"></script>
<script src="{{ url_for('static', filename='js/gijgo.min.js') }}"></script>
<!-- contact js -->
<script src="{{ url_for('static', filename='js/contact.js') }}"></script>
<script src="{{ url_for('static', filename='js/jquery.ajaxchimp.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/jquery.form.js') }}"></script>
<script src="{{ url_for('static', filename='js/jquery.validate.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/mail-script.js') }}"></script>
<script src="{{ url_for('static', filename='js/main.js') }}"></script>

    <script>
        $('#datepicker').datepicker({
            iconsLibrary: 'fontawesome',
            icons: {
                rightIcon: '<span class="fa fa-caret-down"></span>'
            }
        });
        $('#datepicker2').datepicker({
            iconsLibrary: 'fontawesome',
            icons: {
                rightIcon: '<span class="fa fa-caret-down"></span>'
            }

        });
    $(document).ready(function() {
    $('.js-example-basic-multiple').select2();
});
    </script>
</body>

</html>